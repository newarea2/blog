import{_ as i}from"./plugin-vue_export-helper-c27b6911.js";import{r as o,o as a,c as p,b as e,d as r,f as t,a as s}from"./app-90f462c1.js";const c={},l=e("h1",{id:"解析器parser及其配置",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#解析器parser及其配置","aria-hidden":"true"},"#"),r(" 解析器parser及其配置")],-1),g={href:"https://eslint.org/docs/user-guide/configuring/language-options#specifying-parser-options",target:"_blank",rel:"noopener noreferrer"},d={href:"https://zhuanlan.zhihu.com/p/295291463",target:"_blank",rel:"noopener noreferrer"},f={href:"https://github.com/eslint/espree",target:"_blank",rel:"noopener noreferrer"},u=s('<p>Espree 只转换 js，且默认支持 ES5 的语法。</p><p>查看 Espree 的文档可知，ecmaVersion、sourceType、ecmaFeatures最终都是用来配置解析器的：</p><ul><li><p>ecmaVersion：Espree 默认只转换 ES5 语法，通过配置该属性可以转换其他版本 ECMAScript。</p></li><li><p>sourceType：默认是 <code>script</code>，如果要解析的代码是 ECMAScript 模块，应该设置为 <code>module</code></p></li><li><p>ecmaFeatures：设置一些额外的特性。</p></li></ul><p>使用 Parcel 创建一个 Espree demo</p><figure><img src="https://blog-1320825986.cos.ap-nanjing.myqcloud.com/20230718/03.png" alt="03" tabindex="0" loading="lazy"><figcaption>03</figcaption></figure><figure><img src="https://blog-1320825986.cos.ap-nanjing.myqcloud.com/20230718/04.png" alt="04" tabindex="0" loading="lazy"><figcaption>04</figcaption></figure><p>配置了 ecmaVersion 为6后，Espree 就可以正常工作。</p><figure><img src="https://blog-1320825986.cos.ap-nanjing.myqcloud.com/20230718/05.png" alt="05" tabindex="0" loading="lazy"><figcaption>05</figcaption></figure><figure><img src="https://blog-1320825986.cos.ap-nanjing.myqcloud.com/20230718/06.png" alt="06" tabindex="0" loading="lazy"><figcaption>06</figcaption></figure><p>Typescript 也有解析器，作用同样是将源码转换为 AST，这个 AST 被 Typescript 编译器其他部分用来做校验例如类型检查等，但是该 AST 与 ESLint 的默认解析器 Espree 转换出来的 AST 的内容和格式是不一样的，所以 ESLint 是不能识别 typescript 的 parser 转换出来的 AST 内容。所以如果源码是 Typescript，应该使用 @typescript-eslint/parser 解析器。</p>',10);function m(h,_){const n=o("ExternalLinkIcon");return a(),p("div",null,[l,e("p",null,[e("a",g,[r("ESLint 官网说明"),t(n)])]),e("p",null,[e("a",d,[r("ESLint 的 parser 是个什么东西"),t(n)])]),e("p",null,[r("ESLint 在进行校验之前，会将代码转化为 AST（抽象语法树）。ESLint 默认使用的解析器是 "),e("a",f,[r("Espree"),t(n)]),r("。")]),u])}const y=i(c,[["render",m],["__file","config-parserOptions.html.vue"]]);export{y as default};
